<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <link rel="stylesheet" href="../shared.css">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script> <!-- FontAwesome for icons -->
</head>
<body>
  <button class="dark-mode-toggle" onclick="toggleDarkMode()">
    <span id="darkModeIcon">‚òÄÔ∏è</span> <!-- Sun emoji -->
  </button>

  <div class="container">
    <h2>Login</h2>
    <form action="#" method="post" onsubmit="return validateLogin()">
      <input type="email" name="email" placeholder="Email (@gmail.com only)" required />
      <input type="password" name="password" placeholder="Password" required />
      <div class="error" id="loginError"></div>
      <button type="submit">Login</button>
    </form>
    <p class="signup-link">Don't have an account? <a href="../SIGNUP/signup.html">Sign Up Here</a></p>
  </div>

  <script>
    // Dark Mode Toggle Logic
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
      const darkModeStatus = document.body.classList.contains("dark-mode");
      localStorage.setItem("darkMode", darkModeStatus); // Persist dark mode setting
      updateIcon(darkModeStatus);
    }

    // Change emoji based on dark mode status
    function updateIcon(isDarkMode) {
      const icon = document.getElementById("darkModeIcon");
      icon.textContent = isDarkMode ? "üåô" : "‚òÄÔ∏è"; // Moon for dark mode, Sun for light mode
    }

    // Load dark mode from localStorage
    window.onload = function() {
      const darkMode = localStorage.getItem("darkMode") === "true";
      if (darkMode) {
        document.body.classList.add("dark-mode");
        updateIcon(true);
      }
    }

    function validateLogin() {
      const email = document.querySelector('[name="email"]').value;
      const errorDiv = document.getElementById("loginError");

      if (!email.endsWith("@gmail.com")) {
        errorDiv.textContent = "Only @gmail.com emails are allowed.";
        return false;
      }

      return true;
    }
  </script>
</body>
</html>

